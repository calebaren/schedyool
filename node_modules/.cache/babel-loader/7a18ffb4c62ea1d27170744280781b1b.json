{"ast":null,"code":"var _jsxFileName = \"/Users/calebren/Desktop/Github/test-aws-app/my-react-app/src/Pages/DataForm.tsx\";\n// calebaren.github.io\nimport React from 'react';\nimport { Grid, Typography, Link, ListItemText, List, ListItem } from '@material-ui/core';\nimport { useForm } from '../Components/useForm';\nimport Controls from '../Components/Controls/Controls';\nimport FormPages from './FormPages';\nimport PagesList from './FormPagesList';\nconst initialFieldValues = {\n  step: 0,\n  fullName: '',\n  email: '',\n  numBlendedLearning: 1,\n  maxGrade: 1,\n  numSchedules: 1,\n  numRooms: 1,\n  numDays: 1,\n  numSetsSameDay: 0,\n  numPairsDiffDay: 0,\n  numSpecialSets: 0,\n  specialSets: [],\n  packedSpecialSets: [[]],\n  mainFile: [],\n  roomFile: [],\n  sameFile: [],\n  diffFile: []\n};\n\nconst DataForm = () => {\n  const {\n    values,\n    setValues,\n    errors,\n    setErrors,\n    handleFileAdd,\n    handleFileDelete,\n    handleInputChange,\n    handleSpecialSetChange,\n    handleSliderChange,\n    handlePackedSetsChange,\n    handleGradeChange\n  } = useForm(initialFieldValues);\n  const helpTexts = {\n    numBlendedLearning: 'Please enter a positive, whole number for the number of students.',\n    numDays: 'Please enter a positive, whole number for the number of daily schedules.',\n    numRooms: 'Please enter a positive, whole number for the number of classrooms available every day.',\n    maxGrade: 'Please enter the number of grades in your school as a positive integer.',\n    numSetsSameDay: 'Please enter the number of groups that need to be scheduled on the same day. Enter 0 if there are none.',\n    numPairsDiffDay: 'Please enter the number of pairs that need to be scheduled on different days. Enter 0 if there are none.',\n    numSpecialSets: 'Please enter the number of special sets, 0 if there are none.'\n  }; // validate for names and emails\n\n  const validate = () => {\n    // const re = /^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n    let temp = {\n      fullName: '',\n      email: '',\n      mainFile: '',\n      roomFile: '',\n      sameFileMissing: '',\n      diffFileMissing: '',\n      numSetsSameDay: '',\n      numPairsDiffDay: ''\n    }; // temp.fullName = values.fullName ? '' : 'Your name is required.';\n    // temp.email = re.test(values.email) ? '' : 'Your email is required.';\n\n    temp.mainFile = values.mainFile[0] ? '' : 'Please upload a file with your students.';\n    temp.roomFile = values.roomFile[0] ? '' : 'Please upload a file with your room capacities.';\n    temp.sameFileMissing = values.numSetsSameDay > 0 && !values.sameFile[0] ? 'Please upload a file with groups of students to be scheduled on the same day.' : '';\n    temp.diffFileMissing = values.numPairsDiffDay > 0 && !values.diffFile[0] ? 'Please upload a file with pairs of students to be scheduled on different days.' : '';\n    console.log(!Object.values(temp).every(x => x === ''));\n\n    if (!Object.values(temp).every(x => x === '')) {\n      window.alert(Object.values(temp).filter(x => x !== '').join('\\n'));\n    } else {\n      return true;\n    }\n  }; // proceed to next step\n\n\n  const nextStep = () => {\n    const {\n      step\n    } = values;\n    setValues({ ...values,\n      step: step + 1\n    });\n  }; // go back to previous step\n\n\n  const prevStep = () => {\n    const {\n      step\n    } = values;\n    setValues({ ...values,\n      step: step - 1\n    });\n  };\n\n  const handleCaptcha = value => {\n    console.log(\"captcha value:\", value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log(values);\n\n    if (validate()) {\n      nextStep();\n      const postUrl = 'https://lqi0rcs9b1.execute-api.us-east-1.amazonaws.com/prod/';\n      const payload = {\n        fullname: values.fullName,\n        email: values.email,\n        timelimit: 600,\n        num_students: values.numBlendedLearning,\n        num_rooms: values.numRooms,\n        num_days: values.numDays,\n        max_grade: values.maxGrade,\n        // grades go from 0 to maxgrade\n        num_same_day_sets: values.numSetsSameDay,\n        num_diff_day_pairs: values.numPairsDiffDay,\n        num_special_sets: values.numSpecialSets,\n        fraction_for_special_set: values.specialSets,\n        num_rooms_to_be_packed_into: values.packedSpecialSets,\n        diff_file: values.diffFile[1] ? values.diffFile[1] : '',\n        main_file: values.mainFile[1] ? values.mainFile[1] : '',\n        room_file: values.roomFile[1] ? values.roomFile[1] : '',\n        same_file: values.sameFile[1] ? values.sameFile[1] : ''\n      };\n      console.log(payload);\n      const send = true;\n\n      if (send) {\n        const requestOptions = {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(payload)\n        };\n        fetch(postUrl, requestOptions).then(response => console.log(response.json()));\n      }\n    }\n  };\n\n  switch (values.step) {\n    case 0:\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h6\",\n        gutterBottom: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }\n      }, \"Getting Started\"), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\",\n        paragraph: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }\n      }, \"Thanks for using Schedyool!\"), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body2\",\n        paragraph: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }\n      }, \"This tool was designed to make scheduling for hybrid classrooms a breeze. To get started, please have ready:\"), /*#__PURE__*/React.createElement(List, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(ListItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(ListItemText, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"code\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 33\n        }\n      }, \".csv\"), \" files with information on your students. Sample files are available here *insert link*.\")), /*#__PURE__*/React.createElement(ListItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(ListItemText, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 29\n        }\n      }, \"Stuff 2\"))), /*#__PURE__*/React.createElement(Controls.MyButton, {\n        onClick: nextStep,\n        text: \"Schedyool!\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }\n      }));\n\n    case 1:\n      return /*#__PURE__*/React.createElement(PagesList.PageOne, {\n        nextStep: nextStep,\n        handleInputChange: handleInputChange,\n        values: values,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 17\n        }\n      });\n\n    case 2:\n      return /*#__PURE__*/React.createElement(PagesList.PageTwo, {\n        nextStep: nextStep,\n        prevStep: prevStep,\n        helpTexts: helpTexts,\n        handleInputChange: handleInputChange,\n        handleGradeChange: handleGradeChange,\n        values: values,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 17\n        }\n      });\n\n    case 3:\n      return /*#__PURE__*/React.createElement(PagesList.PageThree, {\n        nextStep: nextStep,\n        prevStep: prevStep,\n        helpTexts: helpTexts,\n        handleInputChange: handleInputChange,\n        values: values,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 17\n        }\n      });\n\n    case 4:\n      return /*#__PURE__*/React.createElement(PagesList.PageFour, {\n        nextStep: nextStep,\n        prevStep: prevStep,\n        helpTexts: helpTexts,\n        handleInputChange: handleInputChange,\n        handleSpecialSetChange: handleSpecialSetChange,\n        values: values,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 17\n        }\n      });\n    // Sliders for special sets\n\n    case 5:\n      return /*#__PURE__*/React.createElement(PagesList.PageFive, {\n        nextStep: nextStep,\n        prevStep: prevStep,\n        helpTexts: helpTexts,\n        handleSliderChange: handleSliderChange,\n        values: values,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 17\n        }\n      });\n    // Packing special sets\n\n    case 6:\n      return /*#__PURE__*/React.createElement(PagesList.PageSix, {\n        nextStep: nextStep,\n        prevStep: prevStep,\n        helpTexts: helpTexts,\n        handlePackedSetsChange: handlePackedSetsChange,\n        values: values,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 17\n        }\n      });\n    // Dropzone for files\n\n    case 7:\n      return /*#__PURE__*/React.createElement(FormPages.MiddlePage, {\n        nextStep: nextStep,\n        prevStep: prevStep,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h6\",\n        align: \"left\",\n        gutterBottom: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 21\n        }\n      }, \"Upload your files.\"), /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Controls.Dropzone, {\n        handleFileAdd: handleFileAdd,\n        handleFileDelete: handleFileDelete,\n        values: values,\n        name: \"mainFile\",\n        text: \"Main file\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Controls.Dropzone, {\n        handleFileAdd: handleFileAdd,\n        handleFileDelete: handleFileDelete,\n        values: values,\n        name: \"roomFile\",\n        text: \"Room file\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Controls.Dropzone, {\n        handleFileAdd: handleFileAdd,\n        handleFileDelete: handleFileDelete,\n        values: values,\n        name: \"sameFile\",\n        text: \"Groups of students on same days\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Controls.Dropzone, {\n        handleFileAdd: handleFileAdd,\n        handleFileDelete: handleFileDelete,\n        values: values,\n        name: \"diffFile\",\n        text: \"Pairs of students on different days\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 29\n        }\n      }))));\n\n    case 8:\n      return /*#__PURE__*/React.createElement(FormPages.SubmitPage, {\n        handleSubmit: handleSubmit // nextStep={nextStep}\n        ,\n        prevStep: prevStep,\n        values: values,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 21\n        }\n      }, \"Confirmation\"));\n\n    case 9:\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h6\",\n        gutterBottom: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 21\n        }\n      }, \"Confirmation\"), /*#__PURE__*/React.createElement(Typography, {\n        paragraph: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 21\n        }\n      }, \"Your schedule has been sent. Please check your email in 15 minutes for your schedules.\"), /*#__PURE__*/React.createElement(Controls.MyButton, {\n        onClick: () => setValues(initialFieldValues),\n        text: \"Create another schedule\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(Link, {\n        href: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Controls.MyButton, {\n        text: \"Home\",\n        color: \"default\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 25\n        }\n      })));\n  }\n};\n\nexport default DataForm;","map":{"version":3,"sources":["/Users/calebren/Desktop/Github/test-aws-app/my-react-app/src/Pages/DataForm.tsx"],"names":["React","Grid","Typography","Link","ListItemText","List","ListItem","useForm","Controls","FormPages","PagesList","initialFieldValues","step","fullName","email","numBlendedLearning","maxGrade","numSchedules","numRooms","numDays","numSetsSameDay","numPairsDiffDay","numSpecialSets","specialSets","packedSpecialSets","mainFile","roomFile","sameFile","diffFile","DataForm","values","setValues","errors","setErrors","handleFileAdd","handleFileDelete","handleInputChange","handleSpecialSetChange","handleSliderChange","handlePackedSetsChange","handleGradeChange","helpTexts","validate","temp","sameFileMissing","diffFileMissing","console","log","Object","every","x","window","alert","filter","join","nextStep","prevStep","handleCaptcha","value","handleSubmit","e","preventDefault","postUrl","payload","fullname","timelimit","num_students","num_rooms","num_days","max_grade","num_same_day_sets","num_diff_day_pairs","num_special_sets","fraction_for_special_set","num_rooms_to_be_packed_into","diff_file","main_file","room_file","same_file","send","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","json"],"mappings":";AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,UAAf,EAA2BC,IAA3B,EAAiCC,YAAjC,EAA+CC,IAA/C,EAAqDC,QAArD,QAAqE,mBAArE;AACA,SAASC,OAAT,QAAwB,uBAAxB;AACA,OAAOC,QAAP,MAAqB,iCAArB;AAEA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,SAAP,MAAsB,iBAAtB;AAEA,MAAMC,kBAAkB,GAAG;AACvBC,EAAAA,IAAI,EAAE,CADiB;AAEvBC,EAAAA,QAAQ,EAAE,EAFa;AAGvBC,EAAAA,KAAK,EAAE,EAHgB;AAIvBC,EAAAA,kBAAkB,EAAE,CAJG;AAKvBC,EAAAA,QAAQ,EAAE,CALa;AAMvBC,EAAAA,YAAY,EAAE,CANS;AAOvBC,EAAAA,QAAQ,EAAE,CAPa;AAQvBC,EAAAA,OAAO,EAAE,CARc;AASvBC,EAAAA,cAAc,EAAE,CATO;AAUvBC,EAAAA,eAAe,EAAE,CAVM;AAWvBC,EAAAA,cAAc,EAAE,CAXO;AAYvBC,EAAAA,WAAW,EAAE,EAZU;AAavBC,EAAAA,iBAAiB,EAAE,CAAC,EAAD,CAbI;AAcvBC,EAAAA,QAAQ,EAAE,EAda;AAevBC,EAAAA,QAAQ,EAAE,EAfa;AAgBvBC,EAAAA,QAAQ,EAAE,EAhBa;AAiBvBC,EAAAA,QAAQ,EAAE;AAjBa,CAA3B;;AAoBA,MAAMC,QAAQ,GAAG,MAAW;AACxB,QAAM;AACFC,IAAAA,MADE;AAEFC,IAAAA,SAFE;AAGFC,IAAAA,MAHE;AAIFC,IAAAA,SAJE;AAKFC,IAAAA,aALE;AAMFC,IAAAA,gBANE;AAOFC,IAAAA,iBAPE;AAQFC,IAAAA,sBARE;AASFC,IAAAA,kBATE;AAUFC,IAAAA,sBAVE;AAWFC,IAAAA;AAXE,MAYFjC,OAAO,CAACI,kBAAD,CAZX;AAcA,QAAM8B,SAAS,GAAG;AACd1B,IAAAA,kBAAkB,EAAE,mEADN;AAEdI,IAAAA,OAAO,EAAE,0EAFK;AAGdD,IAAAA,QAAQ,EAAE,yFAHI;AAIdF,IAAAA,QAAQ,EAAE,yEAJI;AAKdI,IAAAA,cAAc,EAAE,yGALF;AAMdC,IAAAA,eAAe,EAAE,0GANH;AAOdC,IAAAA,cAAc,EAAE;AAPF,GAAlB,CAfwB,CAyBxB;;AACA,QAAMoB,QAAQ,GAAG,MAAM;AACnB;AACA,QAAIC,IAAI,GAAG;AACP9B,MAAAA,QAAQ,EAAE,EADH;AAEPC,MAAAA,KAAK,EAAE,EAFA;AAGPW,MAAAA,QAAQ,EAAE,EAHH;AAIPC,MAAAA,QAAQ,EAAE,EAJH;AAKPkB,MAAAA,eAAe,EAAE,EALV;AAMPC,MAAAA,eAAe,EAAE,EANV;AAOPzB,MAAAA,cAAc,EAAE,EAPT;AAQPC,MAAAA,eAAe,EAAE;AARV,KAAX,CAFmB,CAYnB;AACA;;AACAsB,IAAAA,IAAI,CAAClB,QAAL,GAAgBK,MAAM,CAACL,QAAP,CAAgB,CAAhB,IAAqB,EAArB,GAA0B,0CAA1C;AACAkB,IAAAA,IAAI,CAACjB,QAAL,GAAgBI,MAAM,CAACJ,QAAP,CAAgB,CAAhB,IAAqB,EAArB,GAA0B,iDAA1C;AACAiB,IAAAA,IAAI,CAACC,eAAL,GAAwBd,MAAM,CAACV,cAAP,GAAwB,CAAxB,IAA6B,CAACU,MAAM,CAACH,QAAP,CAAgB,CAAhB,CAA/B,GAAqD,+EAArD,GAAuI,EAA9J;AACAgB,IAAAA,IAAI,CAACE,eAAL,GAAwBf,MAAM,CAACT,eAAP,GAAyB,CAAzB,IAA8B,CAACS,MAAM,CAACF,QAAP,CAAgB,CAAhB,CAAhC,GAAsD,gFAAtD,GAAwI,EAA/J;AAEAkB,IAAAA,OAAO,CAACC,GAAR,CAAY,CAAEC,MAAM,CAAClB,MAAP,CAAca,IAAd,EAAoBM,KAApB,CAA0BC,CAAC,IAAIA,CAAC,KAAK,EAArC,CAAd;;AACA,QAAI,CAAEF,MAAM,CAAClB,MAAP,CAAca,IAAd,EAAoBM,KAApB,CAA0BC,CAAC,IAAIA,CAAC,KAAK,EAArC,CAAN,EAAiD;AAC7CC,MAAAA,MAAM,CAACC,KAAP,CAAaJ,MAAM,CAAClB,MAAP,CAAca,IAAd,EAAoBU,MAApB,CAA2BH,CAAC,IAAIA,CAAC,KAAK,EAAtC,EAA0CI,IAA1C,CAA+C,IAA/C,CAAb;AACH,KAFD,MAEO;AACH,aAAO,IAAP;AACH;AACJ,GAzBD,CA1BwB,CAqDxB;;;AACA,QAAMC,QAAQ,GAAG,MAAM;AACnB,UAAM;AAAE3C,MAAAA;AAAF,QAAWkB,MAAjB;AACAC,IAAAA,SAAS,CAAC,EACN,GAAGD,MADG;AAENlB,MAAAA,IAAI,EAAEA,IAAI,GAAG;AAFP,KAAD,CAAT;AAIH,GAND,CAtDwB,CA8DxB;;;AACA,QAAM4C,QAAQ,GAAG,MAAM;AACnB,UAAM;AAAE5C,MAAAA;AAAF,QAAWkB,MAAjB;AACAC,IAAAA,SAAS,CAAC,EACN,GAAGD,MADG;AAENlB,MAAAA,IAAI,EAAEA,IAAI,GAAG;AAFP,KAAD,CAAT;AAIH,GAND;;AAQA,QAAM6C,aAAa,GAAIC,KAAD,IAAgB;AAClCZ,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BW,KAA9B;AACH,GAFD;;AAIA,QAAMC,YAAY,GAAIC,CAAD,IAAY;AAC7BA,IAAAA,CAAC,CAACC,cAAF;AACAf,IAAAA,OAAO,CAACC,GAAR,CAAYjB,MAAZ;;AACA,QAAIY,QAAQ,EAAZ,EAAgB;AACZa,MAAAA,QAAQ;AACR,YAAMO,OAAO,GAAG,8DAAhB;AACA,YAAMC,OAAO,GAAG;AACZC,QAAAA,QAAQ,EAAElC,MAAM,CAACjB,QADL;AAEZC,QAAAA,KAAK,EAAEgB,MAAM,CAAChB,KAFF;AAGZmD,QAAAA,SAAS,EAAE,GAHC;AAIZC,QAAAA,YAAY,EAAEpC,MAAM,CAACf,kBAJT;AAKZoD,QAAAA,SAAS,EAAErC,MAAM,CAACZ,QALN;AAMZkD,QAAAA,QAAQ,EAAEtC,MAAM,CAACX,OANL;AAOZkD,QAAAA,SAAS,EAAEvC,MAAM,CAACd,QAPN;AAOgB;AAC5BsD,QAAAA,iBAAiB,EAAExC,MAAM,CAACV,cARd;AASZmD,QAAAA,kBAAkB,EAAEzC,MAAM,CAACT,eATf;AAUZmD,QAAAA,gBAAgB,EAAE1C,MAAM,CAACR,cAVb;AAWZmD,QAAAA,wBAAwB,EAAE3C,MAAM,CAACP,WAXrB;AAYZmD,QAAAA,2BAA2B,EAAE5C,MAAM,CAACN,iBAZxB;AAaZmD,QAAAA,SAAS,EAAE7C,MAAM,CAACF,QAAP,CAAgB,CAAhB,IAAqBE,MAAM,CAACF,QAAP,CAAgB,CAAhB,CAArB,GAA0C,EAbzC;AAcZgD,QAAAA,SAAS,EAAE9C,MAAM,CAACL,QAAP,CAAgB,CAAhB,IAAqBK,MAAM,CAACL,QAAP,CAAgB,CAAhB,CAArB,GAA0C,EAdzC;AAeZoD,QAAAA,SAAS,EAAE/C,MAAM,CAACJ,QAAP,CAAgB,CAAhB,IAAqBI,MAAM,CAACJ,QAAP,CAAgB,CAAhB,CAArB,GAA0C,EAfzC;AAgBZoD,QAAAA,SAAS,EAAEhD,MAAM,CAACH,QAAP,CAAgB,CAAhB,IAAqBG,MAAM,CAACH,QAAP,CAAgB,CAAhB,CAArB,GAA0C;AAhBzC,OAAhB;AAoBAmB,MAAAA,OAAO,CAACC,GAAR,CAAYgB,OAAZ;AAEA,YAAMgB,IAAI,GAAG,IAAb;;AACA,UAAIA,IAAJ,EAAU;AACN,cAAMC,cAAc,GAAG;AACnBC,UAAAA,MAAM,EAAE,MADW;AAEnBC,UAAAA,OAAO,EAAE;AAAE,4BAAgB;AAAlB,WAFU;AAGnBC,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAetB,OAAf;AAHa,SAAvB;AAKAuB,QAAAA,KAAK,CAACxB,OAAD,EAAUkB,cAAV,CAAL,CACKO,IADL,CACUC,QAAQ,IAAI1C,OAAO,CAACC,GAAR,CAAYyC,QAAQ,CAACC,IAAT,EAAZ,CADtB;AAEH;AACJ;AACJ,GAvCD;;AAyCA,UAAQ3D,MAAM,CAAClB,IAAf;AACI,SAAK,CAAL;AACI,0BACI,uDACI,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,IAApB;AAAyB,QAAA,YAAY,EAAE,IAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADJ,eAEI,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,OAApB;AAA4B,QAAA,SAAS,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAFJ,eAKI,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,OAApB;AAA4B,QAAA,SAAS,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wHALJ,eASI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,6FADJ,CADJ,eAMI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,CANJ,CATJ,eAqBI,oBAAC,QAAD,CAAU,QAAV;AAAmB,QAAA,OAAO,EAAE2C,QAA5B;AAAsC,QAAA,IAAI,EAAC,YAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QArBJ,CADJ;;AA0BJ,SAAK,CAAL;AACI,0BACI,oBAAC,SAAD,CAAW,OAAX;AACI,QAAA,QAAQ,EAAEA,QADd;AAEI,QAAA,iBAAiB,EAAEnB,iBAFvB;AAGI,QAAA,MAAM,EAAEN,MAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;;AAOJ,SAAK,CAAL;AACI,0BACI,oBAAC,SAAD,CAAW,OAAX;AACI,QAAA,QAAQ,EAAEyB,QADd;AAEI,QAAA,QAAQ,EAAEC,QAFd;AAGI,QAAA,SAAS,EAAEf,SAHf;AAII,QAAA,iBAAiB,EAAEL,iBAJvB;AAKI,QAAA,iBAAiB,EAAEI,iBALvB;AAMI,QAAA,MAAM,EAAEV,MANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;;AAUJ,SAAK,CAAL;AACI,0BACI,oBAAC,SAAD,CAAW,SAAX;AACI,QAAA,QAAQ,EAAEyB,QADd;AAEI,QAAA,QAAQ,EAAEC,QAFd;AAGI,QAAA,SAAS,EAAEf,SAHf;AAII,QAAA,iBAAiB,EAAEL,iBAJvB;AAKI,QAAA,MAAM,EAAEN,MALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;;AASJ,SAAK,CAAL;AACI,0BACI,oBAAC,SAAD,CAAW,QAAX;AACI,QAAA,QAAQ,EAAEyB,QADd;AAEI,QAAA,QAAQ,EAAEC,QAFd;AAGI,QAAA,SAAS,EAAEf,SAHf;AAII,QAAA,iBAAiB,EAAEL,iBAJvB;AAKI,QAAA,sBAAsB,EAAEC,sBAL5B;AAMI,QAAA,MAAM,EAAEP,MANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAUJ;;AACA,SAAK,CAAL;AACI,0BACI,oBAAC,SAAD,CAAW,QAAX;AACI,QAAA,QAAQ,EAAEyB,QADd;AAEI,QAAA,QAAQ,EAAEC,QAFd;AAGI,QAAA,SAAS,EAAEf,SAHf;AAII,QAAA,kBAAkB,EAAEH,kBAJxB;AAKI,QAAA,MAAM,EAAER,MALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AASJ;;AACA,SAAK,CAAL;AACI,0BACI,oBAAC,SAAD,CAAW,OAAX;AACI,QAAA,QAAQ,EAAEyB,QADd;AAEI,QAAA,QAAQ,EAAEC,QAFd;AAGI,QAAA,SAAS,EAAEf,SAHf;AAII,QAAA,sBAAsB,EAAEF,sBAJ5B;AAKI,QAAA,MAAM,EAAET,MALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AASJ;;AACA,SAAK,CAAL;AACI,0BACI,oBAAC,SAAD,CAAW,UAAX;AACI,QAAA,QAAQ,EAAEyB,QADd;AAEI,QAAA,QAAQ,EAAEC,QAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAII,oBAAC,UAAD;AACI,QAAA,OAAO,EAAC,IADZ;AAEI,QAAA,KAAK,EAAC,MAFV;AAGI,QAAA,YAAY,EAAE,IAHlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAJJ,eAWI,oBAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,QAAD,CAAU,QAAV;AACI,QAAA,aAAa,EAAEtB,aADnB;AAEI,QAAA,gBAAgB,EAAEC,gBAFtB;AAGI,QAAA,MAAM,EAAEL,MAHZ;AAII,QAAA,IAAI,EAAC,UAJT;AAKI,QAAA,IAAI,EAAC,WALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ,eAUI,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,QAAD,CAAU,QAAV;AACI,QAAA,aAAa,EAAEI,aADnB;AAEI,QAAA,gBAAgB,EAAEC,gBAFtB;AAGI,QAAA,MAAM,EAAEL,MAHZ;AAII,QAAA,IAAI,EAAC,UAJT;AAKI,QAAA,IAAI,EAAC,WALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAVJ,eAmBI,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,QAAD,CAAU,QAAV;AACI,QAAA,aAAa,EAAEI,aADnB;AAEI,QAAA,gBAAgB,EAAEC,gBAFtB;AAGI,QAAA,MAAM,EAAEL,MAHZ;AAII,QAAA,IAAI,EAAC,UAJT;AAKI,QAAA,IAAI,EAAC,iCALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAnBJ,eA4BI,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,QAAD,CAAU,QAAV;AACI,QAAA,aAAa,EAAEI,aADnB;AAEI,QAAA,gBAAgB,EAAEC,gBAFtB;AAGI,QAAA,MAAM,EAAEL,MAHZ;AAII,QAAA,IAAI,EAAC,UAJT;AAKI,QAAA,IAAI,EAAC,qCALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CA5BJ,CAXJ,CADJ;;AAoDJ,SAAK,CAAL;AACI,0BACI,oBAAC,SAAD,CAAW,UAAX;AACI,QAAA,YAAY,EAAE6B,YADlB,CAEI;AAFJ;AAGI,QAAA,QAAQ,EAAEH,QAHd;AAII,QAAA,MAAM,EAAE1B,MAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAMI,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBANJ,CADJ;;AAUJ,SAAK,CAAL;AACI,0BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,IAApB;AAAyB,QAAA,YAAY,EAAE,IAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI,oBAAC,UAAD;AAAY,QAAA,SAAS,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kGAFJ,eAKI,oBAAC,QAAD,CAAU,QAAV;AAAmB,QAAA,OAAO,EAAE,MAAMC,SAAS,CAACpB,kBAAD,CAA3C;AAAiE,QAAA,IAAI,EAAC,yBAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALJ,eAMI,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAC,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,QAAD,CAAU,QAAV;AAAmB,QAAA,IAAI,EAAC,MAAxB;AAA+B,QAAA,KAAK,EAAC,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CANJ,CADJ;AA5JR;AA0KH,CA9RD;;AAiSA,eAAekB,QAAf","sourcesContent":["// calebaren.github.io\nimport React from 'react';\nimport { Grid, Typography, Link, ListItemText, List, ListItem } from '@material-ui/core';\nimport { useForm } from '../Components/useForm';\nimport Controls from '../Components/Controls/Controls';\nimport ReCAPTCHA from 'react-google-recaptcha';\nimport FormPages from './FormPages';\nimport PagesList from './FormPagesList';\n\nconst initialFieldValues = {\n    step: 0,\n    fullName: '',\n    email: '',\n    numBlendedLearning: 1,\n    maxGrade: 1,\n    numSchedules: 1,\n    numRooms: 1,\n    numDays: 1,\n    numSetsSameDay: 0,\n    numPairsDiffDay: 0,\n    numSpecialSets: 0,\n    specialSets: [],\n    packedSpecialSets: [[]],\n    mainFile: [],\n    roomFile: [],\n    sameFile: [],\n    diffFile: [],\n};\n\nconst DataForm = (): any => {\n    const {\n        values,\n        setValues,\n        errors,\n        setErrors,\n        handleFileAdd,\n        handleFileDelete,\n        handleInputChange,\n        handleSpecialSetChange,\n        handleSliderChange,\n        handlePackedSetsChange,\n        handleGradeChange,\n    } = useForm(initialFieldValues);\n\n    const helpTexts = {\n        numBlendedLearning: 'Please enter a positive, whole number for the number of students.',\n        numDays: 'Please enter a positive, whole number for the number of daily schedules.',\n        numRooms: 'Please enter a positive, whole number for the number of classrooms available every day.',\n        maxGrade: 'Please enter the number of grades in your school as a positive integer.',\n        numSetsSameDay: 'Please enter the number of groups that need to be scheduled on the same day. Enter 0 if there are none.',\n        numPairsDiffDay: 'Please enter the number of pairs that need to be scheduled on different days. Enter 0 if there are none.',\n        numSpecialSets: 'Please enter the number of special sets, 0 if there are none.',\n    };\n\n    // validate for names and emails\n    const validate = () => {\n        // const re = /^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n        let temp = {\n            fullName: '',\n            email: '',\n            mainFile: '',\n            roomFile: '',\n            sameFileMissing: '',\n            diffFileMissing: '',\n            numSetsSameDay: '',\n            numPairsDiffDay: '',\n        };\n        // temp.fullName = values.fullName ? '' : 'Your name is required.';\n        // temp.email = re.test(values.email) ? '' : 'Your email is required.';\n        temp.mainFile = values.mainFile[0] ? '' : 'Please upload a file with your students.';\n        temp.roomFile = values.roomFile[0] ? '' : 'Please upload a file with your room capacities.';\n        temp.sameFileMissing = (values.numSetsSameDay > 0 && !values.sameFile[0]) ? 'Please upload a file with groups of students to be scheduled on the same day.' : '';\n        temp.diffFileMissing = (values.numPairsDiffDay > 0 && !values.diffFile[0]) ? 'Please upload a file with pairs of students to be scheduled on different days.': '';\n\n        console.log(!(Object.values(temp).every(x => x === '')))\n        if (!(Object.values(temp).every(x => x === ''))) {\n            window.alert(Object.values(temp).filter(x => x !== '').join('\\n'));\n        } else {\n            return true;\n        }\n    }\n\n    // proceed to next step\n    const nextStep = () => {\n        const { step } = values;\n        setValues({\n            ...values,\n            step: step + 1,\n        });\n    };\n\n    // go back to previous step\n    const prevStep = () => {\n        const { step } = values;\n        setValues({\n            ...values,\n            step: step - 1,\n        });\n    };\n\n    const handleCaptcha = (value: any) => {\n        console.log(\"captcha value:\", value);\n    };\n\n    const handleSubmit = (e: any) => {\n        e.preventDefault();\n        console.log(values);\n        if (validate()) {\n            nextStep();\n            const postUrl = 'https://lqi0rcs9b1.execute-api.us-east-1.amazonaws.com/prod/';\n            const payload = {\n                fullname: values.fullName,\n                email: values.email,\n                timelimit: 600,\n                num_students: values.numBlendedLearning,\n                num_rooms: values.numRooms,\n                num_days: values.numDays,\n                max_grade: values.maxGrade, // grades go from 0 to maxgrade\n                num_same_day_sets: values.numSetsSameDay,\n                num_diff_day_pairs: values.numPairsDiffDay,\n                num_special_sets: values.numSpecialSets,\n                fraction_for_special_set: values.specialSets,\n                num_rooms_to_be_packed_into: values.packedSpecialSets,\n                diff_file: values.diffFile[1] ? values.diffFile[1] : '',\n                main_file: values.mainFile[1] ? values.mainFile[1] : '',\n                room_file: values.roomFile[1] ? values.roomFile[1] : '',\n                same_file: values.sameFile[1] ? values.sameFile[1] : '',\n            }\n\n            \n            console.log(payload);\n            \n            const send = true;\n            if (send) {\n                const requestOptions = {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/json' },\n                    body: JSON.stringify(payload),\n                };\n                fetch(postUrl, requestOptions)\n                    .then(response => console.log(response.json()))\n            }\n        }\n    };\n\n    switch (values.step) {\n        case 0:\n            return (\n                <>\n                    <Typography variant=\"h6\" gutterBottom={true}>Getting Started</Typography>\n                    <Typography variant=\"body1\" paragraph>\n                        Thanks for using Schedyool!\n                    </Typography>\n                    <Typography variant=\"body2\" paragraph>\n                        This tool was designed to make scheduling for hybrid classrooms a breeze. \n                        To get started, please have ready:\n                    </Typography>\n                    <List>\n                        <ListItem>\n                            <ListItemText>\n                                <code>.csv</code> files with information on your students. Sample files are available here *insert link*.\n                            </ListItemText>\n                        </ListItem>\n                        <ListItem>\n                            <ListItemText>\n                                Stuff 2\n                            </ListItemText>\n                        </ListItem>\n                    </List>\n                    <Controls.MyButton onClick={nextStep} text=\"Schedyool!\" />\n                </>\n                \n            )\n        case 1:\n            return (\n                <PagesList.PageOne\n                    nextStep={nextStep}\n                    handleInputChange={handleInputChange}\n                    values={values}\n                />\n            );\n        case 2:\n            return (\n                <PagesList.PageTwo\n                    nextStep={nextStep}\n                    prevStep={prevStep}\n                    helpTexts={helpTexts}\n                    handleInputChange={handleInputChange}\n                    handleGradeChange={handleGradeChange}\n                    values={values}\n                />\n            );\n        case 3:\n            return (\n                <PagesList.PageThree\n                    nextStep={nextStep}\n                    prevStep={prevStep}\n                    helpTexts={helpTexts}\n                    handleInputChange={handleInputChange}\n                    values={values}\n                />\n            );\n        case 4:\n            return (\n                <PagesList.PageFour\n                    nextStep={nextStep}\n                    prevStep={prevStep}\n                    helpTexts={helpTexts}\n                    handleInputChange={handleInputChange}\n                    handleSpecialSetChange={handleSpecialSetChange}\n                    values={values}\n                />\n            );\n        // Sliders for special sets\n        case 5:\n            return (\n                <PagesList.PageFive\n                    nextStep={nextStep}\n                    prevStep={prevStep}\n                    helpTexts={helpTexts}\n                    handleSliderChange={handleSliderChange}\n                    values={values}\n                />\n            );\n        // Packing special sets\n        case 6:\n            return (\n                <PagesList.PageSix\n                    nextStep={nextStep}\n                    prevStep={prevStep}\n                    helpTexts={helpTexts}\n                    handlePackedSetsChange={handlePackedSetsChange}\n                    values={values}\n                />\n            );\n        // Dropzone for files\n        case 7:\n            return (\n                <FormPages.MiddlePage\n                    nextStep={nextStep}\n                    prevStep={prevStep}\n                >\n                    <Typography\n                        variant=\"h6\"\n                        align='left'\n                        gutterBottom={true}\n                    >\n                        Upload your files.\n                    </Typography>\n                    <Grid container>\n                        <Grid item xs={6}>\n                            <Controls.Dropzone\n                                handleFileAdd={handleFileAdd}\n                                handleFileDelete={handleFileDelete}\n                                values={values}\n                                name=\"mainFile\"\n                                text=\"Main file\"\n                            />\n                        </Grid>\n                        <Grid item xs={6}>\n                            <Controls.Dropzone\n                                handleFileAdd={handleFileAdd}\n                                handleFileDelete={handleFileDelete}\n                                values={values}\n                                name=\"roomFile\"\n                                text=\"Room file\"\n                            />\n                        </Grid>\n                        <Grid item xs={6}>\n                            <Controls.Dropzone\n                                handleFileAdd={handleFileAdd}\n                                handleFileDelete={handleFileDelete}\n                                values={values}\n                                name=\"sameFile\"\n                                text=\"Groups of students on same days\"\n                            />\n                        </Grid>\n                        <Grid item xs={6}>\n                            <Controls.Dropzone\n                                handleFileAdd={handleFileAdd}\n                                handleFileDelete={handleFileDelete}\n                                values={values}\n                                name=\"diffFile\"\n                                text=\"Pairs of students on different days\"\n                            />\n                        </Grid>\n                    </Grid>\n                </FormPages.MiddlePage>\n            )\n        case 8:\n            return (\n                <FormPages.SubmitPage\n                    handleSubmit={handleSubmit}\n                    // nextStep={nextStep}\n                    prevStep={prevStep}\n                    values={values}\n                >\n                    <Typography variant=\"h6\">Confirmation</Typography>\n                </FormPages.SubmitPage>\n            );\n        case 9:\n            return (\n                <div>\n                    <Typography variant=\"h6\" gutterBottom={true}>Confirmation</Typography>\n                    <Typography paragraph>\n                        Your schedule has been sent. Please check your email in 15 minutes for your schedules.\n                    </Typography>\n                    <Controls.MyButton onClick={() => setValues(initialFieldValues)} text=\"Create another schedule\" />\n                    <Link href=\"/\">\n                        <Controls.MyButton text=\"Home\" color=\"default\"/>\n                    </Link>\n                </div>\n                \n            )\n    }\n};\n\n\nexport default DataForm;"]},"metadata":{},"sourceType":"module"}